# 📊 データ管理シート（Data Management）

Claude Code Remoteプロジェクトで管理すべきID、設定値、環境変数などの一元管理シートです。

## 🔑 環境変数・設定値

### サーバー設定（.env）

| 変数名 | 開発環境 | 本番環境 | 説明 | 更新日 |
|--------|----------|----------|------|---------|
| PORT | 8090 | 8090 | HTTPサーバーポート | 2025-08-03 |
| HTTPS_PORT | 8443 | 443 | HTTPSサーバーポート | 2025-08-03 |
| JWT_SECRET | dev-secret-key | [要生成] | JWT署名キー（32文字以上推奨） | 2025-08-03 |
| CLAUDE_CODE_PATH | claude-code | claude-code | Claude Codeコマンドパス | 2025-08-03 |
| NODE_ENV | development | production | 実行環境 | 2025-08-03 |
| LOG_LEVEL | debug | info | ログレベル | - |
| SESSION_TIMEOUT | 86400 | 86400 | セッションタイムアウト（秒） | - |

### クライアント設定

| 設定項目 | 開発環境 | 本番環境 | 説明 | 更新日 |
|----------|----------|----------|------|---------|
| API_URL | http://localhost:8090 | https://[domain]:443 | APIエンドポイント | 2025-08-03 |
| WS_URL | ws://localhost:8090 | wss://[domain]:443 | WebSocketエンドポイント | 2025-08-03 |
| RECONNECT_INTERVAL | 1000 | 1000 | 再接続間隔（ミリ秒） | 2025-08-03 |
| MAX_RECONNECT_ATTEMPTS | 10 | 10 | 最大再接続試行回数 | 2025-08-03 |

## 👤 ユーザー管理

### デフォルトユーザー

| ID | ユーザー名 | 役割 | パスワードハッシュ | 状態 | 作成日 |
|----|------------|------|-------------------|------|---------|
| 1 | admin | 管理者 | $2b$10$g5X4osqbn8I14WLd2J.QseAJYzmRFqRW.d/3b28hc7SLpxbIVO1fq | 有効 | 2025-08-03 |
| 2 | [予約] | - | - | - | - |

### パスワードポリシー
- 最小文字数: 8文字
- 必須要素: 英数字混在
- bcrypt salt rounds: 10
- パスワード有効期限: なし（将来実装予定）

## 🔐 セキュリティキー・証明書

| 種類 | ファイル名 | 場所 | 有効期限 | 備考 |
|------|------------|------|----------|------|
| SSL秘密鍵 | server.key | server/certs/ | - | 自己署名（開発用） |
| SSL証明書 | server.cert | server/certs/ | 1年 | 自己署名（開発用） |
| JWT署名キー | - | 環境変数 | なし | 定期更新推奨 |

## 📱 クライアントID・設定

### PWA設定

| 項目 | 値 | 説明 |
|------|-----|------|
| App Name | Claude Code Remote | アプリケーション名 |
| Short Name | CCRemote | 短縮名 |
| Theme Color | #1a1a1a | テーマカラー |
| Background Color | #000000 | 背景色 |
| Display Mode | standalone | 表示モード |

### アプリケーションID

| プラットフォーム | ID/キー | 状態 | 備考 |
|-----------------|---------|------|------|
| PWA Manifest | claude-code-remote | 設定済み | manifest.json |
| Service Worker | ccr-sw-v1 | 未実装 | 将来実装 |
| iOS Bundle ID | - | 未設定 | ネイティブアプリ化時 |
| Android Package | - | 未設定 | ネイティブアプリ化時 |

## 🌐 ネットワーク設定

### ポート管理

| ポート | プロトコル | 用途 | ファイアウォール | 備考 |
|--------|------------|------|-----------------|------|
| 8090 | TCP | HTTP/WS | 要開放 | 開発・本番 |
| 8443 | TCP | HTTPS/WSS | 要開放 | HTTPS有効時 |
| 3000 | TCP | Vite Dev | 開発のみ | クライアント開発 |

### CORS設定

| オリジン | 許可 | 環境 | 備考 |
|----------|------|------|------|
| * | ✅ | 開発 | 全許可（要改善） |
| http://localhost:3000 | ✅ | 開発 | Vite開発サーバー |
| https://[domain] | ✅ | 本番 | 本番ドメイン |

## 📈 パフォーマンス設定

| 項目 | 設定値 | 説明 | 推奨値 |
|------|--------|------|--------|
| WebSocket Max Payload | 10MB | 最大メッセージサイズ | 10MB |
| Terminal Buffer Size | 1000行 | ターミナル保持行数 | 1000-5000 |
| Command Timeout | なし | コマンド実行タイムアウト | 300秒 |
| Keep-Alive Interval | 30秒 | WebSocket生存確認 | 30-60秒 |

## 🗄️ データベース設定（将来）

| 項目 | 値 | 説明 |
|------|-----|------|
| DB Type | SQLite | 予定データベース |
| DB File | claude-code-remote.db | データベースファイル |
| Connection Pool | 5 | 接続プール数 |
| Migration Tool | - | 未定 |

## 📊 メトリクス・監視

### ログ設定

| 種類 | ファイル名 | ローテーション | 保持期間 |
|------|------------|----------------|----------|
| アクセスログ | access.log | 日次 | 30日 |
| エラーログ | error.log | 日次 | 90日 |
| アプリケーションログ | app.log | 日次 | 30日 |
| 認証ログ | auth.log | 日次 | 90日 |

### 監視項目

| メトリクス | 閾値 | アラート | 備考 |
|------------|------|----------|------|
| CPU使用率 | 80% | メール | - |
| メモリ使用率 | 90% | メール | - |
| WebSocket接続数 | 100 | ログ | 同時接続数 |
| エラー率 | 5% | メール | 5分間隔 |

## 🔄 バージョン管理

### アプリケーションバージョン

| コンポーネント | 現在 | 次回 | リリース予定 |
|----------------|------|------|--------------|
| サーバー | 1.0.0 | 1.1.0 | 2025-09-01 |
| クライアント | 1.0.0 | 1.1.0 | 2025-09-01 |
| API | v1 | v1 | - |

### 依存関係バージョン

| パッケージ | 現在 | 最新 | 更新予定 |
|------------|------|------|----------|
| Node.js | 18.x | 20.x | 要検証 |
| Express | 4.18.2 | 4.19.x | 可能 |
| React | 18.2.0 | 18.3.x | 可能 |
| TypeScript | 5.3.3 | 5.5.x | 可能 |

## 📝 変更履歴

| 日付 | 項目 | 変更内容 | 担当者 |
|------|------|----------|--------|
| 2025-08-03 | 初版 | データ管理シート作成 | ドキュメント管理 |

---

**注意事項**:
- 本番環境の値は実際の運用時に適切な値に置き換えること
- パスワードやシークレットキーは絶対にGitにコミットしない
- 定期的な見直しと更新を実施すること

最終更新: 2025年8月3日